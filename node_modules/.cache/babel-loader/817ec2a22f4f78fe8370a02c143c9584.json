{"ast":null,"code":"import _regeneratorRuntime from \"/home/sajal/Fampay/spin-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/sajal/Fampay/spin-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/sajal/Fampay/spin-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sajal/Fampay/spin-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/sajal/Fampay/spin-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/sajal/Fampay/spin-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sajal/Fampay/spin-wheel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/sajal/Fampay/spin-wheel/src/components/spinwheel/spinwheel.js\";\nimport React from 'react';\nimport './spinwheel.css';\nimport config from \"../../cofig\";\n\nvar Wheel = /*#__PURE__*/function (_React$Component) {\n  _inherits(Wheel, _React$Component);\n\n  var _super = _createSuper(Wheel);\n\n  function Wheel(props) {\n    var _this;\n\n    _classCallCheck(this, Wheel);\n\n    _this = _super.call(this, props);\n\n    _this.handleClientload = function () {\n      window.gapi.load('client:auth2', _this.initClient);\n    };\n\n    _this.initClient = function () {\n      window.gapi.client.init({\n        'apiKey': config.apiKey,\n        'clientId': config.clientId,\n        'discoveryDocs': config.discoveryDocs,\n        'scope': config.scope\n      }).then(function () {});\n    };\n\n    _this.state = {\n      selectedItem: null\n    };\n    _this.selectItem = _this.selectItem.bind(_assertThisInitialized(_this));\n    _this.submitToGoogleSheet = _this.submitToGoogleSheet.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Wheel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleClientLoad();\n    }\n  }, {\n    key: \"submitToGoogleSheet\",\n    value: function submitToGoogleSheet(value) {\n      if (this.state.selectedItem !== null) {\n        var params = {\n          spreadsheetId: config.spreadsheetId,\n          range: 'Sheet1',\n          valueInputOption: 'RAW',\n          insertDataoption: 'INSERT_ROWS'\n        };\n        var values = {\n          'majorDimension': 'ROWS',\n          'values': [value]\n        };\n        var request = gapi.client.sheets.spreadsheets.values.append(params, values);\n        request.then(function (response) {\n          console.log(response.result);\n        }, function (reason) {\n          console.error(\"error:\" + reason.result.error.message);\n        });\n      }\n    } // on click event handler \n\n  }, {\n    key: \"selectItem\",\n    value: function () {\n      var _selectItem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var selectedItem;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.state.selectedItem === null)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                selectedItem = Math.floor(Math.random() * this.props.items.length);\n                _context.next = 4;\n                return this.setState({\n                  selectedItem\n                });\n\n              case 4:\n                this.submitToGoogleSheet();\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.next = 9;\n                return this.setState({\n                  selectedItem: null\n                });\n\n              case 9:\n                setTimeout(this.selectItem, 500);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function selectItem() {\n        return _selectItem.apply(this, arguments);\n      }\n\n      return selectItem;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var selectedItem = this.state.selectedItem;\n      var items = this.props.items;\n      var wheelVars = {\n        '--nb-item': items.length,\n        // number of items\n        '--selected-item': selectedItem // index of the selected item\n\n      };\n      var spinning = selectedItem !== null ? 'spinning' : '';\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wheel-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"spinner\",\n        onClick: this.selectItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }\n      }, \" Spin \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wheel \".concat(spinning),\n        style: wheelVars,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, items.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"wheel-item\",\n          key: index,\n          style: {\n            '--item-nb': index\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"wheel-arc\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(\"h\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }\n        }, \" \", item, \" \"));\n      })));\n    }\n  }]);\n\n  return Wheel;\n}(React.Component);\n\nexport { Wheel as default };","map":{"version":3,"sources":["/home/sajal/Fampay/spin-wheel/src/components/spinwheel/spinwheel.js"],"names":["React","config","Wheel","props","handleClientload","window","gapi","load","initClient","client","init","apiKey","clientId","discoveryDocs","scope","then","state","selectedItem","selectItem","bind","submitToGoogleSheet","handleClientLoad","value","params","spreadsheetId","range","valueInputOption","insertDataoption","values","request","sheets","spreadsheets","append","response","console","log","result","reason","error","message","Math","floor","random","items","length","setState","setTimeout","wheelVars","spinning","map","item","index","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport './spinwheel.css';\nimport config from \"../../cofig\";\n\nexport default class Wheel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedItem: null,\n    };\n    this.selectItem = this.selectItem.bind(this);\n    this.submitToGoogleSheet = this.submitToGoogleSheet.bind(this);\n  }\n\n  componentDidMount() {\n    this.handleClientLoad();\n  }\n\n  handleClientload = () => {\n    window.gapi.load('client:auth2', this.initClient);\n  }\n\n  initClient = () => {\n    window.gapi.client.init({\n      'apiKey': config.apiKey,\n      'clientId': config.clientId,\n      'discoveryDocs': config.discoveryDocs,\n      'scope': config.scope,\n    }).then(() => {\n\n    })\n  }\n\n  submitToGoogleSheet(value) {\n    if (this.state.selectedItem !== null) {\n      const params = {\n        spreadsheetId: config.spreadsheetId,\n        range: 'Sheet1',\n        valueInputOption: 'RAW',\n        insertDataoption: 'INSERT_ROWS',\n      }\n\n      const values = {\n        'majorDimension': 'ROWS',\n        'values': [value],\n      }\n\n      let request = gapi.client.sheets.spreadsheets.values.append(params, values);\n      request.then(function (response) {\n        console.log(response.result);\n      }, function (reason) {\n        console.error(\"error:\" + reason.result.error.message);\n      });\n    }\n  }\n\n  // on click event handler \n  async selectItem() {\n    if (this.state.selectedItem === null) {\n      const selectedItem = Math.floor(Math.random() * this.props.items.length);\n      await this.setState({ selectedItem });\n      this.submitToGoogleSheet();\n    } else {\n      await this.setState({ selectedItem: null });\n      setTimeout(this.selectItem, 500);\n    }\n  }\n\n  render() {\n    const { selectedItem } = this.state;\n    const { items } = this.props;\n\n    const wheelVars = {\n      '--nb-item': items.length, // number of items\n      '--selected-item': selectedItem, // index of the selected item\n    };\n    const spinning = ((selectedItem !== null) ? 'spinning' : '');\n\n    return (\n      <div className=\"wheel-container\">\n        <div className=\"spinner\" onClick={this.selectItem}> Spin </div>\n        <div className={`wheel ${spinning}`} style={wheelVars}>\n          {items.map((item, index) => (\n            <div className=\"wheel-item\" key={index} style={{ '--item-nb': index }}>\n              <div className=\"wheel-arc\"></div>\n              <h> {item} </h>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}